webpackJsonp([7],{1468:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=a(466),l=function(e){return e&&e.__esModule?e:{default:e}}(u),o=function(){function e(){n(this,e)}return r(e,[{key:"getAuthTypeList",value:function(){var e={};return l.default.post("reportServer/authType/getAllAuthTypeList",e)}},{key:"getAuthType",value:function(e){return l.default.post("reportServer/authType/getAuthTypeListByName",e)}},{key:"saveAuthType",value:function(e){if("null"==e.authtype_id){return l.default.post("reportServer/authType/saveAuthType",JSON.stringify(e))}return l.default.post("reportServer/authType/updateAuthType",JSON.stringify(e))}},{key:"deleteAuthType",value:function(e){return l.default.post("reportServer/authType/deleteAuthType",e)}},{key:"getDbList",value:function(){return l.default.post("reportServer/DBConnection/ListAll",{})}}]),e}();t.default=o},1607:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(460),i=n(o),f=a(479),s=n(f),c=a(451),p=n(c),d=a(507),h=n(d),y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(461),a(481),a(454),a(508);var m=a(10),b=n(m),v=a(150),_=a(1468),g=n(_),E=new g.default,w=function(e){function t(e){r(this,t);var a=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={list:[]},a}return l(t,e),y(t,[{key:"componentDidMount",value:function(){this.loadDbList()}},{key:"loadDbList",value:function(){var e=this,t={};E.getAuthTypeList(t).then(function(t){e.setState({list:t.data})},function(t){e.setState({list:[]})})}},{key:"deleteAuthType",value:function(e){var t=this;confirm("确认删除吗？")&&E.deleteAuthType(e).then(function(e){alert("删除成功"),t.loadDbList()},function(e){alert("删除失败")})}},{key:"render",value:function(){var e=this;this.state.list.map(function(e,t){e.key=t});var t=this.state.list,a=[{title:"权限类型名称",dataIndex:"value",key:"value",render:function(e,t,a){return b.default.createElement(v.Link,{to:"/authType/authTypeView/"+t.value},e)}},{title:"权限类型描述",dataIndex:"name",key:"name"},{title:"操作",dataIndex:"操作",render:function(t,a){return b.default.createElement("span",null,b.default.createElement(v.Link,{to:"/authType/authTypeInfo/"+a.value},"编辑"),b.default.createElement(h.default,{type:"vertical"}),b.default.createElement("a",{onClick:function(){return e.deleteAuthType(""+a.value)},href:"javascript:;"},"删除"))}}];return b.default.createElement("div",{id:"page-wrapper"},b.default.createElement(i.default,{title:"权限类型管理"},b.default.createElement(p.default,{href:"#/authType/authTypeInfo/null",style:{float:"right",marginRight:"30px",marginBottom:"10px"},type:"primary"},"新建权限类型"),b.default.createElement(s.default,{dataSource:t,columns:a,pagination:!1,style:{marginTop:"30px"}})))}}]),t}(b.default.Component);t.default=w},1608:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(460),f=n(i),s=a(451),c=n(s),p=a(487),d=n(p),h=a(488),y=n(h),m=a(463),b=n(m),v=a(472),_=n(v),g=a(482),E=n(g),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},T=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a(461),a(454),a(502),a(503),a(444),a(485),a(483);var O=a(10),S=n(O),j=a(1468),k=n(j),x=a(151),C=n(x),L=a(1328),P=n(L),A=new C.default,D=E.default.Item,q=_.default.Option,M=new k.default,V=function(e){function t(e){u(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={confirmDirty:!1,authtype_id:a.props.match.params.name,dbList:[]},a.handleSubmit=a.handleSubmit.bind(a),a.handleConfirmBlur=a.handleConfirmBlur.bind(a),a}return o(t,e),T(t,[{key:"componentDidMount",value:function(){var e=this;M.getDbList().then(function(t){for(var a=[],n=0;n<t.length;n++)a.push(S.default.createElement(q,{key:t[n].name},t[n].name));e.setState({dbList:a})}),null!=this.state.authtype_id&&""!=this.state.authtype_id&&"null"!=this.state.authtype_id&&M.getAuthType(this.state.authtype_id).then(function(t){e.setState({authtype_id:t.data.authtype_id}),e.props.form.setFieldsValue(t.data)},function(t){e.setState({}),A.errorTips(t)})}},{key:"onSelectChange",value:function(e,t){this.props.form.setFieldsValue(r({},e,t))}},{key:"onValueChange",value:function(e){var t=e.target.name,a=e.target.value.trim();this.props.form.setFieldsValue(r({},t,a))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFieldsAndScroll(function(e,a){e||(a.authtype_id=t.state.authtype_id,M.saveAuthType(a).then(function(e){alert("保存成功"),window.location.href="#/authType"},function(e){t.setState({}),A.errorTips(e)}))})}},{key:"handleConfirmBlur",value:function(e){var t=e.target.value;this.setState({confirmDirty:this.state.confirmDirty||!!t})}},{key:"onValueChange",value:function(e){var t=e.target.name,a=e.target.value.trim();this.props.form.setFieldsValue(r({},t,a))}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},n={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};return S.default.createElement("div",{id:"page-wrapper"},S.default.createElement(f.default,{title:"null"==this.state.authtype_id?"新增权限类型":"编辑权限类型"},S.default.createElement(E.default,{onSubmit:this.handleSubmit},S.default.createElement(d.default,null,S.default.createElement(y.default,{span:12},S.default.createElement(D,w({},a,{label:"权限类型名称"}),t("authtype_name",{rules:[{required:!0,message:"请输入权限类型名称!"}]})(S.default.createElement(b.default,{type:"text",name:"authtype_name"})))),S.default.createElement(y.default,{span:12},S.default.createElement(D,w({},a,{label:"权限类型描述"}),t("authtype_desc",{rules:[{required:!0,message:"请输入权限类型描述!",whitespace:!0}]})(S.default.createElement(b.default,{type:"text",name:"authtype_desc"}))))),S.default.createElement(d.default,null,S.default.createElement(y.default,{span:12},S.default.createElement(D,w({},a,{label:"权限类型分类"}),t("authtype_class",{rules:[{required:!0,message:"请输入权限类型分类!",whitespace:!0}]})(S.default.createElement(b.default,{type:"text",name:"authtype_class"})))),S.default.createElement(y.default,{span:12},S.default.createElement(D,w({},a,{label:"用户实体"}),t("use_object",{rules:[{required:!0,message:"请输入用户实体!",whitespace:!0}]})(S.default.createElement(b.default,{type:"text",name:"use_object"}))))),S.default.createElement(d.default,null,S.default.createElement(y.default,{span:12},S.default.createElement(D,w({},a,{label:"数据库"}),t("auth_db",{rules:[{required:!0,message:"请输入数据库!",whitespace:!0}]})(S.default.createElement(_.default,{style:{width:"120px"},placeholder:"请选择",name:"auth_db",onChange:function(t){return e.onSelectChange("auth_db",t)}},this.state.dbList)))),S.default.createElement(y.default,{span:12},S.default.createElement(D,w({},a,{label:"权限名称"}),t("auth_name",{rules:[{required:!0,message:"请输入权限名称!",whitespace:!0}]})(S.default.createElement(b.default,{type:"text",name:"auth_name"}))))),S.default.createElement(d.default,null,S.default.createElement(y.default,{span:12},S.default.createElement(D,w({},a,{label:"Sql"}),t("auth_sql",{rules:[{required:!0,message:"请输入Sql!",whitespace:!0}]})(S.default.createElement(P.default,{type:"text",name:"auth_sql",onChange:function(t){return e.onValueChange(t)}}))))),S.default.createElement(D,n,S.default.createElement(c.default,{type:"primary",htmlType:"submit",style:{marginLeft:"30px"}},"保存"),S.default.createElement(c.default,{href:"#/authType",type:"primary",style:{marginLeft:"30px"}},"返回")))))}}]),t}(S.default.Component);t.default=E.default.create()(V)},410:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(10),f=n(i),s=a(150),c=a(1607),p=n(c),d=a(1608),h=n(d),y=function(e){function t(){return r(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),o(t,[{key:"render",value:function(){return f.default.createElement(s.Switch,null,f.default.createElement(s.Route,{path:"/authType/authTypeList",component:p.default}),f.default.createElement(s.Route,{path:"/authType/authTypeInfo/:name",component:h.default}),f.default.createElement(s.Redirect,{exact:!0,from:"/authType",to:"/authType/authTypeList"}))}}]),t}(f.default.Component);t.default=y}});