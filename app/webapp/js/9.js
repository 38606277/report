webpackJsonp([9],{1131:function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),i=r(523),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=function(){function e(){o(this,e)}return n(e,[{key:"login",value:function(e){return a.default.post("/reportServer/user/Reactlogin",JSON.stringify(e))}},{key:"checkLoginInfo",value:function(e){var t=e.UserCode,r=e.Pwd;return"string"!=typeof t||0===t.length?{status:!1,msg:"用户名不能为空！"}:"string"!=typeof r||0===r.length?{status:!1,msg:"密码不能为空！"}:{status:!0,msg:"验证通过"}}},{key:"encodePwd",value:function(e){return a.default.post("/reportServer/user/encodePwd",e)}},{key:"logout",value:function(){return a.default.post("/user/logout.do",null)}},{key:"getUserList",value:function(e){return a.default.post("/reportServer/formUser/getUserListReact",JSON.stringify(e))}},{key:"getUserListRole",value:function(e){return a.default.post("/reportServer/formUser/getUserListRole",JSON.stringify(e))}},{key:"getUserInfo",value:function(e){return a.default.post("/reportServer/formUser/getUserInfoByUserId",JSON.stringify({id:e}))}},{key:"saveUserInfo",value:function(e){return"null"==e._id?a.default.post("/reportServer/formUser/addUser",JSON.stringify(e)):a.default.post("/reportServer/formUser/updateUser",JSON.stringify(e))}},{key:"delUser",value:function(e){return a.default.post("/reportServer/formUser/deleteUser",e)}},{key:"getRoleList",value:function(){return a.default.post("/reportServer/rule/getRoleList",{})}},{key:"getRoleListByUserId",value:function(e){return a.default.post("reportServer/auth/getRoleListByUserId",JSON.stringify({userid:e}))}},{key:"UpdatePwd",value:function(e){return a.default.post("/reportServer/formUser/updatePwd",JSON.stringify(e))}}]),e}();t.default=s},1601:function(e,t,r){var o=r(1602);"string"==typeof o&&(o=[[e.i,o,""]]);var n={hmr:!0};n.transform=void 0;r(400)(o,n);o.locals&&(e.exports=o.locals)},1602:function(e,t,r){var o=r(1603);t=e.exports=r(399)(!1),t.push([e.i,".wrapper-page{width:420px;margin:7.5% auto}.panel-pages .panel-body{padding:30px}.panel-pages{border-radius:6px}.panel-pages .panel-heading{padding:40px 20px;border-radius:6px 6px 0 0;-moz-border-radius:6px 6px 0 0;-webkit-border-radius:6px 6px 0 0;position:relative}.panel-pages .panel-heading h3{z-index:999;position:relative}.panel{border:none;border-radius:0;margin-bottom:20px;-webkit-box-shadow:0 1px 2px 0 rgba(0,0,0,.1);-moz-box-shadow:0 1px 2px 0 rgba(0,0,0,.1);box-shadow:0 1px 2px 0 rgba(0,0,0,.1)}.panel-heading{border-radius:0;border:none!important;padding:10px 20px}.panel-title{font-size:14px;text-transform:uppercase;font-weight:600;margin-bottom:0;margin-top:0}.panel-color .panel-title{color:#fff}.panel-primary>.panel-heading{background-color:#1e88e5}.panel-border{border-radius:3px}.panel-border .panel-heading{background-color:#fff;border-top:3px solid #ccc!important;border-radius:3px;padding:10px 20px 0}.panel-border .panel-body{padding:15px 20px 20px}.panel-border.panel-primary .panel-heading{border-color:#1e88e5!important;color:#1e88e5!important}.bg-img{background:url("+o(r(1604))+") 50%}.bg-overlay{position:absolute;height:100%;width:100%;background-color:rgba(49,126,235,.4);top:0;left:0;border-radius:6px 6px 0 0;-moz-border-radius:6px 6px 0 0;-webkit-border-radius:6px 6px 0 0}.text-center{text-align:center}.bg-primary{color:#fff;background-color:#337ab7}a.bg-primary:focus,a.bg-primary:hover{background-color:#286090}.page-headerpage-header{padding-bottom:9px;margin:40px 0 20px;border-bottom:1px solid #eee}.m-t-10{margin-top:10px!important}.m-t-20{margin-top:20px}.m-t-40{margin-top:40px!important}.w-lg{min-width:140px}.font-light{font-weight:300}.no-border{border:none}.bx-shadow{-webkit-box-shadow:0 1px 2px 0 rgba(0,0,0,.1);-moz-box-shadow:0 1px 2px 0 rgba(0,0,0,.1);box-shadow:0 1px 2px 0 rgba(0,0,0,.1)}.mx-box{max-height:380px;min-height:380px}.text-white{color:#fff}.text-primary{color:#1e88e5}.form-control{background-color:#fafafa;color:rgba(0,0,0,.6);font-size:14px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1);border:1px solid #eee;box-shadow:none}.form-control:focus{border:1px solid #e0e0e0;background:#fff;box-shadow:none}input[type=search]{-webkit-appearance:none}.form-group{margin-bottom:15px}.checkbox{position:relative;display:block;margin-top:10px;margin-bottom:10px}.checkbox label,.radio label{min-height:20px;padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.checkbox-inline input[type=checkbox],.checkbox input[type=checkbox]{position:absolute;margin-top:4px\\9;margin-left:-20px}.checkbox+.checkbox,.radio+.radio{margin-top:-5px}.checkbox-inline,.radio-inline{position:relative;display:inline-block;padding-left:20px;margin-bottom:0;font-weight:400;vertical-align:middle;cursor:pointer}.checkbox-inline+.checkbox-inline,.radio-inline+.radio-inline{margin-top:0;margin-left:10px}.input-lg{width:100%;height:46px;padding:10px 16px;font-size:14px;font-weight:300;line-height:1.3333333;border-radius:6px}.form-group-lg .form-control+.form-control-feedback,.input-group-lg+.form-control-feedback,.input-lg+.form-control-feedback{width:46px;height:46px;line-height:46px}.form-group-sm .form-control+.form-control-feedback,.input-group-sm+.form-control-feedback,.input-sm+.form-control-feedback{width:30px;height:30px;line-height:30px}.a_bg_color{background-color:#b5b5b5}.panel_border{border:1px solid #b5b5b5}body{background:#fff}.btn{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:4px}.btn-primary{color:#fff;background-color:#337ab7;border-color:#2e6da4}.btn-primary.focus,.btn-primary:focus{color:#fff;background-color:#286090;border-color:#122b40}.btn-primary:hover{color:#fff;background-color:#286090;border-color:#204d74}.btn-group>.btn-lg+.dropdown-toggle{padding-right:12px;padding-left:12px}.btn-group-lg>.btn,.btn-lg{padding:10px 16px;font-size:18px;line-height:1.3333333;border-radius:6px}h3{line-height:30px;font-size:24px}strong{font-weight:700}",""])},1603:function(e,t){e.exports=function(e){return/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e}},1604:function(e,t,r){e.exports=r.p+"resource/bg.jpg"},407:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),l=r(10),p=o(l),d=r(1131),f=o(d),c=r(150),h=o(c);r(1601);var b=new h.default,y=new f.default,g=function(e){function t(e){i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={userCode:"",Pwd:"",redirect:b.getStorage("lasurl")||"/"},r}return s(t,e),u(t,[{key:"componentWillMount",value:function(){document.title="登录 - report"}},{key:"onInputChange",value:function(e){if(!e||!e.target&&!e.currentTarget)return!1;var t=void 0!==e.target.value?e.target.value:e.currentTarget.value,r=void 0!==e.target.name?e.target.name:e.currentTarget.name;this.setState(n({},r,t))}},{key:"onInputKeyUp",value:function(e){13===e.keyCode&&this.onSubmit()}},{key:"onSubmit",value:function(){var e=this,t={UserCode:this.state.UserCode,Pwd:this.state.Pwd,import:"",isAdmin:""},r=y.checkLoginInfo(t);r.states=!0,r.status?y.encodePwd(t.Pwd).then(function(r){t.Pwd=r.encodePwd,y.login(t).then(function(t){b.setStorage("userInfo",t.data),e.props.history.push(e.state.redirect)},function(e){b.errorTips(e)})},function(e){b.errorTips(e)}):b.errorTips(r.msg)}},{key:"render",value:function(){var e=this;return p.default.createElement("div",{className:"wrapper-page"},p.default.createElement("div",{className:"panel panel-color panel-primary panel-pages"},p.default.createElement("div",{className:"panel-heading bg-img"},p.default.createElement("div",{className:"bg-overlay"}),p.default.createElement("h3",{className:"text-center m-t-10 text-white"},"登录报表平台",p.default.createElement("strong",null)," ")),p.default.createElement("div",{className:"panel-body panel_border"},p.default.createElement("div",{className:"form-horizontal m-t-20 ng-dirty ng-touched ng-valid"},p.default.createElement("div",{style:{color:"#e51e30"}}),p.default.createElement("div",{className:"form-group "},p.default.createElement("input",{type:"text",name:"UserCode",className:"form-control input-lg panel_border",placeholder:"请输入用户名",onKeyUp:function(t){return e.onInputKeyUp(t)},onChange:function(t){return e.onInputChange(t)}})),p.default.createElement("div",{className:"form-group"},p.default.createElement("input",{type:"password",name:"Pwd",className:"form-control input-lg panel_border",placeholder:"请输入密码",onKeyUp:function(t){return e.onInputKeyUp(t)},onChange:function(t){return e.onInputChange(t)}})),p.default.createElement("div",{className:"form-group text-center m-t-40"},p.default.createElement("button",{className:"btn btn-primary btn-lg w-lg waves-effect waves-light",onClick:function(t){e.onSubmit(t)}},"登录"))))))}}]),t}(p.default.Component);t.default=g},523:function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();r(719);var i=r(150),a=function(e){return e&&e.__esModule?e:{default:e}}(i),s=new a.default,u=function(){function e(){o(this,e)}return n(e,[{key:"get",value:function(){}}],[{key:"getBaseUrl",value:function(){return window.getServerUrl()}},{key:"post",value:function(t,r){if(void 0==s.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=t&&"/reportServer/user/Reactlogin"!=t||""==s.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=t&&"/reportServer/user/Reactlogin"!=t)return window.location.href="#login",new Promise(function(e,t){});var o=e.getBaseUrl()+t,n={method:"POST",headers:{credentials:JSON.stringify(s.getStorage("userInfo")||"")},body:r};return fetch(o,n).then(function(e){return e.json()}).catch(function(e){return e.json()})}}]),e}();t.default=u},719:function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function s(e){var t=new FileReader,r=a(t);return t.readAsArrayBuffer(e),r}function u(e){var t=new FileReader,r=a(t);return t.readAsText(e),r}function l(e){for(var t=new Uint8Array(e),r=new Array(t.length),o=0;o<t.length;o++)r[o]=String.fromCharCode(t[o]);return r.join("")}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(g.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(g.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(g.arrayBuffer&&g.blob&&x(e))this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}function c(e,t){t=t||{};var r=t.body;if(e instanceof c){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new n(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new n(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(n))}}),t}function b(e){var t=new n;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();t.append(o,n)}}),t}function y(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new n(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var g={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(g.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],x=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&m.indexOf(Object.prototype.toString.call(e))>-1};n.prototype.append=function(e,o){e=t(e),o=r(o);var n=this.map[e];this.map[e]=n?n+","+o:o},n.prototype.delete=function(e){delete this.map[t(e)]},n.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},n.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},n.prototype.set=function(e,o){this.map[t(e)]=r(o)},n.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},n.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),o(e)},n.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},n.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),o(e)},g.iterable&&(n.prototype[Symbol.iterator]=n.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this,{body:this._bodyInit})},d.call(c.prototype),d.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];y.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=n,e.Request=c,e.Response=y,e.fetch=function(e,t){return new Promise(function(r,o){var n=new c(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:b(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;r(new y(t,e))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.open(n.method,n.url,!0),"include"===n.credentials?i.withCredentials=!0:"omit"===n.credentials&&(i.withCredentials=!1),"responseType"in i&&g.blob&&(i.responseType="blob"),n.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===n._bodyInit?null:n._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}});