(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(1048);var u,o=n(442);var a=new((u=o)&&u.__esModule?u:{default:u}).default,l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"get",value:function(){}}],[{key:"getBaseUrl",value:function(){return window.getServerUrl()}},{key:"post",value:function(t,n){if(null==a.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=t&&"/reportServer/user/Reactlogin"!=t||""==a.getStorage("userInfo")&&"/reportServer/user/encodePwd"!=t&&"/reportServer/user/Reactlogin"!=t)return window.location.href="#login",new Promise(function(e,t){});var r=e.getBaseUrl()+t,u={method:"POST",headers:{credentials:JSON.stringify(a.getStorage("userInfo")||"")},body:n};return fetch(r,u).then(function(e){return e.json()}).catch(function(e){return e.json()})}}]),e}();t.default=l},1251:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=o(n(1250));function o(e){return e&&e.__esModule?e:{default:e}}new(o(n(442)).default);var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"getFunctionList",value:function(){return u.default.post("reportServer/function1/getAllFunctionName",null)}},{key:"getFunctionByID",value:function(e){var t="reportServer/function1/getFunctionByID/"+e;return u.default.post(t,{})}},{key:"getSqlInOut",value:function(e){var t={sqlType:"sql",sql:e};return u.default.post("reportServer/sql/getInputOutputParas",JSON.stringify(t))}},{key:"getAllFunctionClass",value:function(){return u.default.post("reportServer/function1/getAllFunctionClass","")}},{key:"saveFunctionClass",value:function(e){return u.default.post("reportServer/function1/createFunctionClassInfo",JSON.stringify(e))}},{key:"updateFunctionClass",value:function(e){return u.default.post("reportServer/function1/updateFunctionClassInfo",JSON.stringify(e))}},{key:"deleteFunctionClss",value:function(e){return u.default.post("reportServer/function1/deleteFunctionClassInfo",JSON.stringify(e))}},{key:"CreateFunction",value:function(e){return u.default.post("reportServer/function1/saveUserSql",JSON.stringify(e))}}]),e}();t.default=a},1394:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(1042)),u=p(n(1049)),o=p(n(44)),a=p(n(1053)),l=p(n(1043)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(1041),n(1050),n(157),n(1052),n(443);var c=p(n(1)),f=p(n(1194)),s=p(n(1251)),d=p(n(1250));function p(e){return e&&e.__esModule?e:{default:e}}new s.default;var y=f.default.Column,v=(f.default.ColumnGroup,l.default.Search),g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!1,list:[],selectedRows:[],selectedRowKeys:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),i(t,[{key:"componentDidMount",value:function(){this.getAllFunctionName()}},{key:"getAllFunctionName",value:function(){var e=this;d.default.post("reportServer/function1/getAllFunctionName",null).then(function(t){"1000"==t.resultCode?e.setState({list:t.data}):a.default.error(t.message)})}},{key:"onDelButtonClick",value:function(){var e=this;confirm("确认删除吗？")&&d.default.post("reportServer/function1/deleteFunction",JSON.stringify(this.state.selectedRows)).then(function(t){"1000"==t.resultCode?(a.default.success("删除成功！"),e.getAllFunctionName(),e.setState({selectedRowKeys:[],selectedRows:[]})):a.default.error(t.message)})}},{key:"onPageNumChange",value:function(e){var t=this;this.setState({pageNum:e},function(){t.loadUserList()})}},{key:"onSearch",value:function(e){var t=this,n=""===e?"list":"search";this.setState({listType:n,pageNum:1,searchKeyword:e},function(){t.loadUserList()})}},{key:"showCurRowMessage",value:function(e){alert("key:"+e.userId+" name:"+e.userName+" description:"+e.description)}},{key:"render",value:function(){var e=this,t=(this.state.list,{selectedRowKeys:this.state.selectedRowKeys,onChange:function(t,n){console.log("selectedRowKeys changed: ",t),e.setState({selectedRowKeys:t,selectedRows:n})}});return c.default.createElement("div",null,c.default.createElement(r.default,{title:"函数列表",bodyStyle:{padding:"10px"}},c.default.createElement(o.default,{href:"#/function/functionCreator/create/0",style:{marginRight:"10px"},type:"primary"},"新建函数"),c.default.createElement(o.default,{href:"#/function/functionClass",style:{marginRight:"15px"},type:"primary"},"函数类别管理"),c.default.createElement(o.default,{onClick:function(){return e.onDelButtonClick()},style:{marginRight:"10px"}},"删除"),c.default.createElement(v,{style:{maxWidth:300,marginBottom:"10px",float:"right"},placeholder:"请输入...",enterButton:"查询",onSearch:function(t){return e.onSearch(t)}}),c.default.createElement(f.default,{dataSource:this.state.list,rowSelection:t},c.default.createElement(y,{title:"函数ID",dataIndex:"func_id",key:"func_name"}),c.default.createElement(y,{title:"函数名称",dataIndex:"func_name",key:"func_desc"}),c.default.createElement(y,{title:"函数描述",dataIndex:"func_desc",key:"func_desc"}),c.default.createElement(y,{title:"函数类别",dataIndex:"class_name",key:"class_name"}),c.default.createElement(y,{title:"调用方式",dataIndex:"func_type",key:"func_type"}),c.default.createElement(y,{title:"动作",key:"action",render:function(e,t){return c.default.createElement("span",null,c.default.createElement("a",{href:"#/function/functionCreator/update/"+t.func_id},"编辑"),c.default.createElement(u.default,{type:"vertical"}),c.default.createElement("a",{href:"javascript:;"},"删除",t.name))}}))))}}]),t}();t.default=g}}]);